#!/bin/bash

# Voice LCD Control Script

case "$1" in
    start)
        echo "üöÄ Starting Voice LCD service..."
        sudo systemctl start voice-lcd.service
        sleep 3
        sudo systemctl status voice-lcd.service --no-pager
        ;;
    stop)
        echo "‚èπÔ∏è  Stopping Voice LCD service..."
        sudo systemctl stop voice-lcd.service
        ;;
    restart)
        echo "üîÑ Restarting Voice LCD service..."
        sudo systemctl restart voice-lcd.service
        sleep 3
        sudo systemctl status voice-lcd.service --no-pager
        ;;
    status)
        echo "üìä Voice LCD service status:"
        sudo systemctl status voice-lcd.service --no-pager
        ;;
    logs)
        echo "üìù Recent Voice LCD logs:"
        sudo journalctl -u voice-lcd.service -n 20 --no-pager
        ;;
    enable)
        echo "‚úÖ Enabling Voice LCD to start on boot..."
        sudo systemctl enable voice-lcd.service
        ;;
    disable)
        echo "‚ùå Disabling Voice LCD auto-start..."
        sudo systemctl disable voice-lcd.service
        ;;
    run)
        echo "üé§ Running Voice LCD directly (Ctrl+C to stop)..."
        cd /home/morph/Desktop/LCD
        source venv/bin/activate
        python voice_lcd.py
        ;;
    *)
        echo "Voice LCD Control Script"
        echo ""
        echo "Usage: $0 {start|stop|restart|status|logs|enable|disable|run}"
        echo ""
        echo "Commands:"
        echo "  start    - Start the voice LCD service"
        echo "  stop     - Stop the voice LCD service" 
        echo "  restart  - Restart the voice LCD service"
        echo "  status   - Show service status"
        echo "  logs     - Show recent logs"
        echo "  enable   - Enable auto-start on boot"
        echo "  disable  - Disable auto-start"
        echo "  run      - Run directly (for testing)"
        echo ""
        exit 1
        ;;
esac